import{r as e,i as a,d as l,v as t,o,a as r,b as n,e as s,w as i,x as c,m as p,g as d}from"./index.23564e4b.js";import{w as u}from"./index.7506ac0b.js";import{F as g}from"./FileSaver.min.35949a15.js";import{u as b,w as m}from"./xlsx.030dfc28.js";const h={class:"container"},x=d("  "),f=d("导出"),w=d("查看 "),y={name:"Material",setup(d){const y=e({address:"",name:"",pageIndex:1,pageSize:5});let _=e([]);const v=a([]),S=a(0),k=()=>{let e=document.getElementById("ou"),a=b.table_to_book(e);var l=m(a,{bookType:"xlsx",bookSST:!0,type:"array"});try{g.saveAs(new Blob([l],{type:"application/octet-stream"}),"sheetjs.xlsx")}catch(t){"undefined"!=typeof console&&console.log(t,l)}return l};(async()=>{try{const e=await u.record_page({page_num:y.pageIndex,page_size:y.pageSize});console.log(e.res),_=e.res.data,S.value=e.res.total,j.material_len=_.length;let a=[];_.forEach((e=>{a.push(...e)})),v.value=a}catch(e){console.log(e)}})();const j={i:0,newrowindex:0,material_len:0},C=()=>{console.log(111)};return(e,a)=>{const d=l("el-button"),u=l("el-table-column"),g=l("el-table"),b=t("loadmore");return o(),r("div",null,[n("div",h,[x,s(d,{onClick:k,type:"success",round:""},{default:i((()=>[f])),_:1}),c((o(),p(g,{id:"ou",data:v.value,border:"",class:"table",ref:"multipleTable","max-height":"500","header-cell-class-name":"table-header",stripe:""},{default:i((()=>[s(u,{prop:"MaterialType",label:"供应类型",align:"center"}),s(u,{prop:"MaterialCode",label:"物料编码",width:"150",align:"center"}),s(u,{prop:"MaterialName",label:"物料名称",align:"center"}),s(u,{prop:"Specifications",label:"规格型号 ",width:"140",align:"center"}),s(u,{prop:"Supplier",label:"供应商",align:"center"}),s(u,{prop:"Craft",label:"工艺",width:"150",align:"center"}),s(u,{prop:"Texture",label:"材质",width:"100",align:"center"}),s(u,{prop:"Process",label:"工序",width:"50",align:"center"}),s(u,{prop:"PurchaseStatus",label:"采购状态",width:"150",align:"center"}),s(u,{prop:"ReceivingWarehouse",label:"收料仓库",width:"100",align:"center"}),s(u,{label:"操作",width:"180",align:"center"},{default:i((a=>[s(d,{type:"text",icon:"el-icon-search",onClick:l=>e.handleEdit(a.$index,a.row)},{default:i((()=>[w])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[b,C]])])])}}};export{y as default};
