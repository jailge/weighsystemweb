import{_ as e,r as a,i as l,d as t,o as r,a as s,b as u,e as o,w as d,F as p,j as c,m as i,g as m,t as n,u as b,p as g,f,k as _}from"./index.23564e4b.js";import{w as h,b as v}from"./index.7506ac0b.js";const w={class:"crumbs"},V=(e=>(g("data-v-e62e9a40"),e=e(),f(),e))((()=>u("i",{class:"el-icon-lx-cascades"},null,-1))),y=m(" 基础表格 "),x={class:"container"},N={class:"handle-box"},k={class:"dialog-footer"},U=m("查 询"),q={class:"dialog-footer"},S=m("取 消"),T=m("确 定");var W=e({name:"Search",setup(e){const g=a({}),f=l([]);l(0);const W=l(null),j={material_code:[{required:!0,message:"输入不能为空",trigger:"blur"}],craft:[{required:!0,message:"输入不能为空",trigger:"blur"}],texture:[{required:!0,message:"输入不能为空",trigger:"blur"}],process:[{required:!0,message:"输入不能为空",trigger:"blur"}],purchase_status:[{required:!0,message:"输入不能为空",trigger:"blur"}]},C=a({});C.page_size=40,C.page_num=1;(async()=>{let e=await h.weigh_record_page(C);console.log(e)})();const M=a({});(async()=>{let e=v.weight_parameter("craft","get"),a=v.weight_parameter("texture","get"),l=v.weight_parameter("process","get"),t=v.weight_parameter("purchase_status","get");M.craft=(await e).res,M.texture=(await a).res,M.process=(await l).res,M.purchase_status=(await t).res,console.log(M)})();const P=()=>{W.value.validate((async e=>{if(!e)return console.log(res),!1;{let e=(await h.search_data(g)).res.data;console.log(e),f.value=e}}))},R=l(!1);let z=a({name:"",address:""});const E=()=>{R.value=!1,_.success("修改第 0 行成功"),Object.keys(z).forEach((e=>{f.value[-1][e]=z[e]}))};return(e,a)=>{const l=t("el-breadcrumb-item"),_=t("el-breadcrumb"),h=t("el-input"),v=t("el-form-item"),C=t("el-option"),F=t("el-select"),I=t("el-button"),O=t("el-form"),A=t("el-table-column"),B=t("el-tag"),D=t("el-table"),G=t("el-dialog");return r(),s("div",null,[u("div",w,[o(_,{separator:"/"},{default:d((()=>[o(l,null,{default:d((()=>[V,y])),_:1})])),_:1})]),u("div",x,[u("div",N,[o(O,{ref_key:"formRef",ref:W,rules:j,inline:!0,model:g,"label-width":"70px"},{default:d((()=>[o(v,{prop:"material_code"},{default:d((()=>[o(h,{modelValue:g.material_code,"onUpdate:modelValue":a[0]||(a[0]=e=>g.material_code=e),placeholder:"物料代码",class:"handle-input mr10"},null,8,["modelValue"])])),_:1}),o(v,{prop:"craft"},{default:d((()=>[o(F,{modelValue:g.craft,"onUpdate:modelValue":a[1]||(a[1]=e=>g.craft=e),placeholder:"工艺",class:"handle-select mr10"},{default:d((()=>[(r(!0),s(p,null,c(M.craft,(e=>(r(),i(C,{key:e.Name,label:e.Name,value:e.Name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(v,{prop:"process"},{default:d((()=>[o(F,{modelValue:g.process,"onUpdate:modelValue":a[2]||(a[2]=e=>g.process=e),placeholder:"工序",class:"handle-select mr10"},{default:d((()=>[(r(!0),s(p,null,c(M.process,(e=>(r(),i(C,{key:e.Name,label:e.Name,value:e.Name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(v,{prop:"texture"},{default:d((()=>[o(F,{modelValue:g.texture,"onUpdate:modelValue":a[3]||(a[3]=e=>g.texture=e),placeholder:"材质",class:"handle-select mr10"},{default:d((()=>[(r(!0),s(p,null,c(M.texture,(e=>(r(),i(C,{key:e.Name,label:e.Name,value:e.Name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(v,{prop:"purchase_status"},{default:d((()=>[o(F,{modelValue:g.purchase_status,"onUpdate:modelValue":a[4]||(a[4]=e=>g.purchase_status=e),placeholder:"采购状态",class:"handle-select mr10"},{default:d((()=>[(r(!0),s(p,null,c(M.purchase_status,(e=>(r(),i(C,{key:e.Name,label:e.Name,value:e.Name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(v,null,{default:d((()=>[u("span",k,[o(I,{type:"primary",onClick:P},{default:d((()=>[U])),_:1})])])),_:1})])),_:1},8,["model"])]),o(D,{data:f.value,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header",height:"500"},{default:d((()=>[o(A,{prop:"MaterialCode",label:"物料编码",width:"100",align:"center"}),o(A,{prop:"MaterialName",label:"物料名称",width:"100"}),o(A,{prop:"MaterialType",label:"供应类型"}),o(A,{prop:"Process",label:"工序"}),o(A,{prop:"PurchaseStatus",label:"采购状态"}),o(A,{prop:"ReceivingWarehouse",label:"收料仓库",width:"150"}),o(A,{prop:"Specifications",label:"规格型号"}),o(A,{prop:"Supplier",label:"供应商",width:"210"}),o(A,{prop:"Texture",label:"材质"}),o(A,{prop:"WeighStage",label:"称重状态"}),o(A,{prop:"WeighNum",label:"实称重量",width:"80",align:"center"}),o(A,{prop:"WeighTime",label:"执行日期",width:"100",align:"center"}),o(A,{prop:"WeighTime",label:"是否有效",align:"center"},{default:d((e=>[o(B,{type:"成功"===e.row.state?"success":"失败"===e.row.state?"danger":""},{default:d((()=>[m(n(e.row.state),1)])),_:2},1032,["type"])])),_:1})])),_:1},8,["data"])]),o(G,{title:"编辑",modelValue:R.value,"onUpdate:modelValue":a[8]||(a[8]=e=>R.value=e),width:"30%"},{footer:d((()=>[u("span",q,[o(I,{onClick:a[7]||(a[7]=e=>R.value=!1)},{default:d((()=>[S])),_:1}),o(I,{type:"primary",onClick:E},{default:d((()=>[T])),_:1})])])),default:d((()=>[o(O,{"label-width":"70px"},{default:d((()=>[o(v,{label:"用户名"},{default:d((()=>[o(h,{modelValue:b(z).name,"onUpdate:modelValue":a[5]||(a[5]=e=>b(z).name=e)},null,8,["modelValue"])])),_:1}),o(v,{label:"地址"},{default:d((()=>[o(h,{modelValue:b(z).address,"onUpdate:modelValue":a[6]||(a[6]=e=>b(z).address=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-e62e9a40"]]);export{W as default};
